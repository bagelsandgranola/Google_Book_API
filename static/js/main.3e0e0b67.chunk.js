(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(22)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),r=a(8),i=a.n(r),s=(a(15),a(6)),l=a(1),c=a(2),p=a(4),u=a(3),h=a(5),m=(a(16),function(e){function t(){var e,a;Object(l.a)(this,t);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={currentSearchTerm:""},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"searchTermChanged",value:function(e){console.log("searchTermChanged ran, serachTerm =",e),this.setState({currentSearchTerm:e})}},{key:"handleSubmit",value:function(e){e.preventDefault(),console.log("handleSubmit ran"),this.props.handleUpdateSearchTerm(this.state.currentSearchTerm)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"Search"},n.a.createElement("form",{className:"searchForm",onSubmit:function(t){return e.handleSubmit(t)}},n.a.createElement("label",{htmlFor:"search"}," Search: "),n.a.createElement("input",{className:"inputField",type:"text",name:"search",placeholder:"Search by title, author, topic, etc.",onChange:function(t){return e.searchTermChanged(t.target.value)}}),n.a.createElement("button",{className:"searchSubmitButton",type:"submit",name:"submit"}," Search ")))}}]),t}(o.Component)),d=(a(17),function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"printTypeFilterChanged",value:function(e){console.log("printTypeFilterChanged ran"),console.log("selection was  ".concat(e)),this.props.handlePrintTypeFilter(e)}},{key:"bookTypeFilterChanged",value:function(e){console.log("bookTypeFilterChanged ran"),console.log("selection was  ".concat(e)),this.props.handleBookTypeFilter(e)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"FilterOptions"},n.a.createElement("div",{className:"filter_printType"},n.a.createElement("form",null,n.a.createElement("label",{htmlFor:"print_type"},"Print Type:"),n.a.createElement("select",{className:"Dropdown_label",id:"print_type",name:"print_type",onChange:function(t){return e.printTypeFilterChanged(t.target.value)}},n.a.createElement("option",{value:"all"}," All "),n.a.createElement("option",{value:"books"}," Books "),n.a.createElement("option",{value:"magazines"}," Magazines ")))),n.a.createElement("div",{className:"filter_bookType"},n.a.createElement("form",null,n.a.createElement("label",{htmlFor:"book_type"},"Book Type:"),n.a.createElement("select",{className:"Dropdown_label",id:"book_type",name:"book_type",onChange:function(t){return e.bookTypeFilterChanged(t.target.value)}},n.a.createElement("option",{value:"null"}," No Filter "),n.a.createElement("option",{value:"ebooks"}," All E-books"),n.a.createElement("option",{value:"free-ebooks"}," Free E-book "),n.a.createElement("option",{value:"paid-ebooks"}," Paid E-book ")))))}}]),t}(o.Component)),b=(a(18),a(19),function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.description;return e=e.substring(0,200),e+="...",n.a.createElement("div",{className:"BookResult"},n.a.createElement("div",{className:"book_thumbnail"},n.a.createElement("img",{src:this.props.image,alt:"picture of book"})),n.a.createElement("div",{className:"book_textContent"},n.a.createElement("a",{href:this.props.url,className:"book_title"}," ",this.props.name),n.a.createElement("h2",{className:"book_author"}," ",this.props.author),n.a.createElement("p",{className:"book_price"}," ",this.props.price),n.a.createElement("p",{className:"book_description"}," ",e)))}}]),t}(o.Component)),f=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.bookData.map(function(e){var t="";t="description"in e.volumeInfo?e.volumeInfo.description:"No description available";var a="";a="imageLinks"in e.volumeInfo&&"thumbnail"in e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:"http://www.surreyflagfootball.ca/wp-content/uploads/2018/04/1510200817001.png";var o="Not for sale";return o="NOT_FOR_SALE"===e.saleInfo.saleability?"Not for sale":"FREE"===e.saleInfo.saleability?"Free":" $".concat(e.saleInfo.retailPrice.amount),n.a.createElement(b,{name:e.volumeInfo.title,price:o,description:t,author:e.author,image:a,url:e.volumeInfo.infoLink}," ")});return n.a.createElement("div",{className:"Booklist"},n.a.createElement("div",{className:"BookResults"},e))}}]),t}(o.Component),y=(a(20),function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"Controls"},n.a.createElement("div",{className:"search-div"},n.a.createElement(m,{handleUpdateSearchTerm:this.props.handleUpdateSearchTerm,searchTerm:this.props.searchTerm}," ")),n.a.createElement("div",{className:"filters-div"},n.a.createElement(d,{handlePrintTypeFilter:this.props.handlePrintTypeFilter,handleBookTypeFilter:this.props.handleBookTypeFilter,handleUpdate:this.props.handleUpdate})))}}]),t}(o.Component)),k=(a(21),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).state={booksToDisplay:[],options:{searchTerm:"Henry",filter:null,printType:"all",bookType:"null"}},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"updateSearchTerm",value:function(e){var t=this;console.log("updateSearchTerm ran"),console.log("searchTerm was ".concat(e)),this.setState({options:Object(s.a)({},this.state.options,{searchTerm:e})},function(){console.log("searchTerm state",t.state.options.searchTerm),t.updateUrl()})}},{key:"filterByPrintType",value:function(e){var t=this;console.log("filterByPrintType ran"),console.log("selection was ".concat(e)),this.setState({options:Object(s.a)({},this.state.options,{printType:e})},function(){console.log("printType state",t.state.options.printType),t.updateUrl()})}},{key:"filterByBookType",value:function(e){var t=this;console.log("filterByBookType ran"),console.log("selection was ".concat(e)),this.setState({options:Object(s.a)({},this.state.options,{bookType:e})},function(){console.log("bookType state",t.state.options.bookType),t.updateUrl()})}},{key:"updateUrl",value:function(){console.log("updateURL ran");var e="https://www.googleapis.com/books/v1/volumes?q="+"".concat(this.state.options.searchTerm);"null"!==this.state.options.bookType?e+="&filter=".concat(this.state.options.bookType):e=e,"all"!=this.state.options.printType?e+="&printType=".concat(this.state.options.printType):e=e,e+="&key=AIzaSyBf7xL4fudSeIBj54gb9g8BQa2WaU8wJXc",console.log("query string",e),this.updateBookList(e)}},{key:"updateBookList",value:function(e){var t=this;fetch(e).then(function(e){if(!e.ok)throw console.log("An error occured, throwing error"),new Error("Something went wrong");return e}).then(function(e){return e.json()}).then(function(e){if(0==e.totalItems)t.setState({booksToDisplay:[],error:"Oh no, we can't find anything that matches your search results. Please try another search."});else{console.log(e);var a=e.items;console.log(a),t.setState({booksToDisplay:a,error:null})}}).catch(function(e){t.setState({error:e.message})})}},{key:"render",value:function(){var e=this,t=this.state.error?n.a.createElement("div",{className:"error"},this.state.error):"";return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"app_header"},n.a.createElement("h2",{className:"app_header_text"}," Google Book Search ")),n.a.createElement("div",{className:"controls"},n.a.createElement(y,{handlePrintTypeFilter:function(t){return e.filterByPrintType(t)},handleBookTypeFilter:function(t){return e.filterByBookType(t)},handleUpdate:function(){return e.updateUrl()},handleUpdateSearchTerm:function(t){return e.updateSearchTerm(t)},searchTerm:this.state.options.searchTerm})),t,n.a.createElement("div",{className:"Booklist"},n.a.createElement(f,{bookData:this.state.booksToDisplay})))}}]),t}(o.Component));i.a.render(n.a.createElement(k,{bookData:[{name:"Henry I",author:"C. Warren Hollister",price:"$50.00",image:"https://books.google.com/books?id=zyTCAlFPjgYC&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",description:"The resulting volume is one that will be welcomed by students and general readers alike"},{name:"Henry VIII",author:"Alison Weir",price:"$15.50",image:"https://books.google.com/books?id=zyTCAlFPjgYC&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api",description:"This is a triumph of historical writing which will appeal equally to the general reader and serious historian"}]}),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.3e0e0b67.chunk.js.map